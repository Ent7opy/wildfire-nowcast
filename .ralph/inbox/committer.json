{
  "goal_file": ".ralph/GOAL.md",
  "plan_file": ".ralph/plan.json",
  "state_file": ".ralph/state.json",
  "task": {
    "id": "T09",
    "title": "Update spread forecast service to accept bbox-only requests",
    "priority": "P1",
    "depends_on": [
      "T08"
    ],
    "description": "In ml/spread/service.py, ensure run_spread_forecast accepts region_name=None and derives GridSpec from bbox. Update SpreadForecastRequest dataclass if needed. Terrain should be optional (TerrainWindow can be empty for regions without pre-ingested terrain, gracefully degrading model accuracy).",
    "files_likely": [
      "ml/spread/service.py",
      "ml/spread_features.py"
    ],
    "acceptance": [
      "run_spread_forecast callable with region_name=None",
      "Function derives GridSpec from bbox",
      "Terrain absence does not crash (graceful fallback)",
      "Weather data still required (ingested via JIT)"
    ],
    "verification": [
      "Would run: cd ml && uv run pytest tests/test_spread_service.py -k bbox",
      "Would run: make lint"
    ],
    "status": "implemented",
    "commits": [],
    "notes": [
      "worker: Added test coverage for bbox-only spread forecasts (region_name=None). Core implementation already supports this from T08."
    ],
    "review_cycles": 0
  },
  "instruction": "Create semantic commits for the approved changes. Output commit list with shas + messages.",
  "outbox_schema": {
    "task_id": "T01",
    "status": "committed|blocked",
    "commits": [
      {
        "sha": "abc1234",
        "message": "feat(scope): ..."
      }
    ],
    "verification": [
      "Ran: ...",
      "Would run: ..."
    ],
    "notes": [
      "optional"
    ]
  }
}
